#!/bin/bash

# Load environment variables
source .env

# Get the current date in YYYY-MM-DD format
CURRENT_DATE=$(date +'%Y-%m-%d')

# AWS Lambda function name
#LAMBDA_FUNCTION_NAME=" "

# AWS API Gateway name
#API_GATEWAY_NAME=" "

# AWS DynamoDB table name
#DYNAMODB_TABLE_NAME=" "

# Deploy Lambda function
aws lambda create-function \
    --function-name To-do-App Project \
    --runtime python 3.11 \
    --handler lambda_function.lambda_handler \
    --role arn:aws:iam:"$AWS_ACCOUNT_ID":role/my-lambda-role \
    --code S3Bucket=my-lambda-bucket-01,S3Key=""


# Create DynamoDB table
aws dynamodb create-table \
    --table-name ToDOApp \
    --attribute-definitions AttributeName="$PARTITION_KEY",AttributeType=S \
    --key-schema AttributeName="$PARTITION_KEY",KeyType=HASH \
    --provisioned-throughput ReadCapacityUnits=5,WriteCapacityUnits=5
